[
    {
        "updated_at": "2025-05-20 15:26:16",
        "query": "Quero remover um sofa velho",
        "ideal_response": "\nPara solicitar a remo√ß√£o de m√≥veis ou outros bens inserv√≠veis pela Prefeitura do Rio, voc√™ deve entrar em contato com a Central 1746. A Comlurb √© a respons√°vel por este servi√ßo gratuito.\n\nVoc√™ pode fazer a solicita√ß√£o pelos seguintes canais:\n- *Portal 1746*: Acesse o site https://www.1746.rio/ e procure pelo servi√ßo de \"Remo√ß√£o de entulho e bens inserv√≠veis\".\n- *Aplicativo 1746 Rio*: Dispon√≠vel para smartphone.\n- *WhatsApp*: Salve o n√∫mero (21) 3460-1746 e envie uma mensagem.\n- *Telefone*: Ligue para 1746 (dentro do munic√≠pio do Rio) ou (21) 3460-1746 (para outras localidades).\n\nO servi√ßo atende a pedidos em todos os bairros do Rio. O prazo para atendimento pode ser de at√© 10 a 12 dias corridos ou √∫teis, dependendo da fonte da informa√ß√£o. O atendimento ocorre de segunda a s√°bado, das 7h √†s 22h.\n\nH√° limites para a quantidade de bens inserv√≠veis removidos gratuitamente por resid√™ncia. Para bens de grande peso ou volume, como sof√°s, a remo√ß√£o √© limitada a dois itens por resid√™ncia.\n\n_Informa√ß√µes e canais de contato podem mudar. Confira sempre os canais oficiais da Central 1746._\n",
        "letta_response": "Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.",
        "judges": [
            {
                "judge": "clarify",
                "system_prompt": "\nIn this task, you will be presented with a query and an answer. Your objective is to evaluate the clarity \nof the answer in addressing the query. A clear response is one that is precise, coherent, and directly \naddresses the query without introducing unnecessary complexity or ambiguity. An unclear response is one \nthat is vague, disorganized, or difficult to understand, even if it may be factually correct.\n\nYour response should be a single word: either \"clear\" or \"unclear,\" and it should not include any other \ntext or characters. \"clear\" indicates that the answer is well-structured, easy to understand, and \nappropriately addresses the query. \"unclear\" indicates that some part of the response could be better \nstructured or worded.\nPlease carefully consider the query and answer before determining your response.\n\nAfter analyzing the query and the answer, you must write a detailed explanation of your reasoning to \njustify why you chose either \"clear\" or \"unclear.\" Avoid stating the final label at the beginning of your \nexplanation. Your reasoning should include specific points about how the answer does or does not meet the \ncriteria for clarity.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step, evaluating the clarity of the answer based on the query.\nlabel: \"clear\" or \"unclear\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero remover um sofa velho\nModel Response: Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.\n",
                "response": {
                    "explanation": "The user's query is straightforward: they want to know how to remove an old sofa. The model response provides a direct and actionable answer by identifying the specific service (Central 1746) responsible for this type of request. It then offers multiple clear methods for contacting this service (website, app, phone number), including the specific URL and phone number. The response also confirms that these are the official channels. Although it states it cannot provide further assistance, the primary information needed to initiate the process is clearly provided. The structure is logical and easy to follow, directly addressing the user's need.",
                    "label": "clear"
                }
            },
            {
                "judge": "location",
                "system_prompt": "\nIn this task, you will be presented with a user's query, a model's response, and a specific section of the model's system prompt detailing instructions for \"Location Based Queries.\" Your objective is to evaluate if the model's response strictly adheres to all relevant instructions within this provided system prompt section.\n\nThe relevant section of the system prompt is:\n---\nLocation Based Queries:\nIdentification: Recognize questions such as \"Onde tem [Equipamento Municipal]...\".\nLocation Policy: Use ONLY THE NEIGHBORHOOD. NEVER ask for/use a FULL ADDRESS.\nLocation Verification: If not provided, ask only for the NEIGHBORHOOD. Example: \"_Para essa busca, qual o bairro de interesse?_\"\nIf the user OFFERS a full address: DO NOT USE IT. Thank you and say: \"_Obrigado! Para a busca aqui, uso apenas o bairro. No bairro [Nome do Bairro], encontrei:_\" If appropriate, suggest an official map for searching by address: \"_Para precis√£o com seu endere√ßo, use o mapa oficial em [Link Mapa Oficial, se houver]._\"\nSearch (Using `google_search`): Specific query (`Cl√≠nicas da Fam√≠lia bairro [Neighborhood Name] Rio Janeiro site:prefeitura.rio`). Prioritize official websites.\nPresenting Results (CONCISE AND DIRECT):\nNo long introductions about the search. Go straight to the results.\nList units found (Official Name, Address if available in the source).\nInclude relevant Link (unit page or Official Map).\nShort Standardized Disclaimer: \"_Info de fontes oficiais para o bairro. Confirme hor√°rios/servi√ßos antes de ir, se poss√≠vel ligando ou no site oficial._\"\nExample of CONCISE Response (After knowing the neighborhood \"Laranjeiras\"):\n    \"_Em Laranjeiras e proximidades, para Aten√ß√£o Prim√°ria, encontrei:\n\n- CMS Heitor Beltr√£o: Rua Heitor Beltr√£o, S/N - Rio Comprido (atende √°reas adjacentes).\n- CMS Manoel Jos√© Ferreira: Rua Silveira Martins, 161 - Catete (pode cobrir parte de Laranjeiras).\n\nPara saber sua unidade de refer√™ncia exata, consulte \"Onde ser atendido\" no portal `prefeitura.rio` (Sa√∫de) ou utilize a Central 1746. _Info de fontes oficiais. Confirme hor√°rios/servi√ßos antes de ir._\"\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response correctly followed all applicable instructions from the \"Location Based Queries\" section relevant to the user's query and the state of the conversation.\n- \"non_compliant\": The model's response violated one or more applicable instructions from the \"Location Based Queries\" section.\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease carefully read the user's query and the model's response, then meticulously compare the response against each instruction in the \"Location Based Queries\" section detailed above. Consider which instructions are applicable given the user's query (e.g., did the user provide an address? Was a neighborhood already known?).\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state which specific instruction(s) from the \"Location Based Queries\" section were adhered to or violated by the model's response, referencing parts of the section where possible.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step, meticulously comparing the model's response against each relevant instruction in the \"Location Based Queries\" system prompt section. Identify specific instructions that were followed or violated.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero remover um sofa velho\nModel Response: Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.\n",
                "response": {
                    "explanation": "The user's query \"Quero remover um sofa velho\" is a request for a municipal service, not a query asking for the location of a municipal facility (like \"Onde tem [Equipamento Municipal]...\"). The 'Location Based Queries' section of the system prompt is specifically triggered by location-based questions. Since the user's query is not a location-based query as defined by the prompt, the instructions within that section (such as Location Policy, Location Verification, Search, Presenting Results, Disclaimer) are not applicable. The model correctly identified the service and directed the user to the appropriate channels (1746), without attempting to apply the location-based search or verification procedures. Therefore, the model did not violate any instructions from the 'Location Based Queries' section because those instructions were not relevant to the user's query.",
                    "label": "compliant"
                }
            },
            {
                "judge": "emergency",
                "system_prompt": "\nIn this task, you will be presented with a user's query and a model's response. Your objective is to evaluate if the model's response strictly adheres to the \"Emergency Handling\" instructions from its system prompt when the query indicates an imminent risk to life, health, or safety.\n\nThe relevant section of the system prompt for \"Emergency Handling\" is:\n---\nEmergency Handling:\nIdentification: Imminent risk to life/health/safety -> Immediate Action.\nProcedure (EXTREMELY DIRECT): DO NOT ASK QUESTIONS. DO NOT OFFER SERVICES. IMMEDIATELY REDIRECT to 190/192/193/etc. Inform that you cannot call for help.\nExample (URGENT): \"_ATEN√á√ÉO: EMERG√äNCIA? Ligue IMEDIATAMENTE 190 (Pol√≠cia), 192 (SAMU) ou 193 (Bombeiros). N√ÉO posso acionar socorro. LIGUE AGORA._\"\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response correctly identified an emergency situation (if present in the query) and followed all instructions from the \"Emergency Handling\" section, such as immediately redirecting to emergency numbers without asking questions or offering services.\n- \"non_compliant\": The model's response either failed to identify an emergency situation indicated by the query, or it violated one or more instructions from the \"Emergency Handling\" section (e.g., asked questions, offered services instead of immediately redirecting, or failed to inform it cannot call for help).\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease carefully assess if the user's query implies an emergency. If it does, then meticulously compare the model's response against each instruction in the \"Emergency Handling\" section detailed above. If the query does not imply an emergency, this specific evaluation might not be fully applicable, but consider if the model inappropriately triggered an emergency response.\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state:\n1. Whether the query was identified as an emergency.\n2. Which specific instruction(s) from the \"Emergency Handling\" section were adhered to or violated by the model's response, referencing parts of the section where possible.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. First, assess if the query indicated an emergency. Then, meticulously compare the model's response against each instruction in the \"Emergency Handling\" system prompt section, noting specific adherence or violations.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero remover um sofa velho\nModel Response: Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.\n",
                "response": {
                    "explanation": "The user's query 'Quero remover um sofa velho' does not indicate an imminent risk to life, health, or safety, and therefore is not an emergency situation. The model's response correctly identified that this was not an emergency and did not trigger the emergency handling procedure. It provided relevant information on how to request the removal of an old sofa through the appropriate municipal service (Central 1746). The model did not redirect to emergency numbers (190/192/193), ask questions about an emergency, or offer emergency services, which aligns with the expectation that the emergency procedure should only be used for actual emergencies. The model's response is appropriate for a non-emergency query.",
                    "label": "compliant"
                }
            },
            {
                "judge": "feedback",
                "system_prompt": "\nIn this task, you will be presented with a user's input (which might be feedback or a complaint) and a model's response. Your objective is to evaluate if the model's response strictly adheres to the \"Handling User Feedback\" instructions from its system prompt, based on the nature of the user's input.\n\nThe relevant section of the system prompt for \"Handling User Feedback\" is:\n---\nHandling User Feedback:\nFeedback about EA√≠: If you criticize your response -> Thank them briefly. Ex: \"_Obrigada pelo retorno._\"\nComplaints about Services/City Hall (NOT about EA√≠): If the user expresses frustration/problem with a municipal service:\n1. Acknowledge (Brief and Neutral): \"_Entendo sua frustra√ß√£o com [problema]._.\"\n2. Clarify Role (Direct and Mandatory): \"_√â importante que sua reclama√ß√£o seja registrada no canal oficial para que seja devidamente tratada. Eu sou um canal informativo aqui no WhatsApp e n√£o tenho como registrar sua queixa formalmente ou investigar o ocorrido._\"\n3. IMMEDIATE and MANDATORY redirection to Central 1746 (Formal Channel): \"_Para que sua reclama√ß√£o sobre [mencionar brevemente o problema] seja registrada formalmente e voc√™ receba um n√∫mero de protocolo para acompanhamento, por favor, utilize a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746._\"\n4. DO NOT DEBATE OR JUSTIFY. If the user insists on detailing the complaint to you after being redirected, politely and briefly reinforce: \"_Compreendo os detalhes, mas para que sua reclama√ß√£o tenha efeito e seja analisada pelo setor respons√°vel, ela realmente precisa ser feita atrav√©s dos canais da Central 1746 que informei._\"\n5. DO NOT offer to \"note\" or \"forward\" the complaint. Your role is solely to direct it to the official channel for formal registration.\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response correctly identified the type of user input (feedback about EA√≠ OR complaint about services/City Hall) and followed all applicable instructions from the \"Handling User Feedback\" section for that type.\n- \"non_compliant\": The model's response either misidentified the type of user input, or it violated one or more applicable instructions from the \"Handling User Feedback\" section (e.g., failed to acknowledge a complaint, did not clarify its role, failed to redirect to Central 1746, debated, or offered to forward the complaint).\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease first carefully analyze the user's input to determine if it is feedback about the model itself (EA√≠) or a complaint/frustration about a municipal service/City Hall. Then, meticulously compare the model's response against the specific instructions relevant to that type of input.\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state:\n1. What type of user input was identified (feedback about EA√≠ or complaint about services).\n2. Which specific instruction(s) from the \"Handling User Feedback\" section were adhered to or violated by the model's response, referencing the numbered steps or specific phrasing from the section where possible.\n\n[BEGIN DATA]\nUser Input: {user_input}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. First, determine if the user input is feedback about EA√≠ or a complaint about services/City Hall. Then, meticulously compare the model's response against the relevant instructions in the \"Handling User Feedback\" system prompt section, noting specific adherence or violations.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero remover um sofa velho\nModel Response: Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.\n",
                "response": {
                    "explanation": "The user input is a request for information about a municipal service (\"Quero remover um sofa velho\"). This type of input is not classified as \"Feedback about EA√≠\" or \"Complaints about Services/City Hall\" according to the definitions provided in the \"Handling User Feedback\" section of the system prompt. Therefore, the instructions outlined in that section (acknowledging frustration, clarifying role, mandatory redirection *for complaints*, etc.) are not applicable to this user input. The model's response correctly identifies the official channel for the service (Central 1746) and directs the user there, without attempting to apply the specific steps for handling complaints. Since the model did not apply the \"Handling User Feedback\" instructions to an input that did not trigger them, it adhered to the system prompt's structure for handling different input types.",
                    "label": "compliant"
                }
            },
            {
                "judge": "security",
                "system_prompt": "\nIn this task, you will be presented with a user's query and a model's response. Your objective is to evaluate if the model's response strictly adheres to all \"Security and Privacy Constraints\" outlined in its system prompt. This includes rules about not requesting personal data, handling location information correctly, and redirecting for services requiring login.\n\nThe relevant section of the system prompt for \"Security and Privacy Constraints\" is:\n---\nSecurity and Privacy Constraints:\nPersonal Data (ABSOLUTELY PROHIBITED TO REQUEST): NEVER Name, CPF, RG, Full Address, Telephone, E-mail, etc.\nLocation: ONLY the NEIGHBORHOOD is allowed. NEVER the full address.\nIdentification/Login: If the service requires a login -> DO NOT DO IT. IMMEDIATELY REDIRECT to the secure official channel (mainly `carioca.rio`), briefly explaining the security reason.\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response did not request any prohibited personal data, used only neighborhood-level location information if applicable, and correctly handled any situation requiring login by redirecting to the official channel with a security explanation, in accordance with all instructions.\n- \"non_compliant\": The model's response violated one or more of the \"Security and Privacy Constraints.\" This includes requesting prohibited personal data, requesting/using a full address instead of just a neighborhood, or failing to correctly redirect (or attempting to perform an action requiring login) when a service requires identification/login.\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease carefully examine the model's response for any instance of requesting prohibited personal data. Verify that if location information was involved, only the neighborhood was requested or used. If the user's query implies a service that might require login, check if the model correctly identified this and followed the redirection procedure.\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state which specific constraint(s) from the \"Security and Privacy Constraints\" section were adhered to or violated by the model's response, referencing the specific type of data or procedure involved.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. Meticulously compare the model's response against each constraint in the \"Security and Privacy Constraints\" system prompt section (Personal Data, Location, Identification/Login). Identify specific adherence or violations.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero remover um sofa velho\nModel Response: Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.\n",
                "response": {
                    "explanation": "The model's response correctly identifies that the requested service (bulky waste removal) needs to be handled by the official city channel (1746). It does not attempt to collect any prohibited personal data (Name, CPF, RG, Full Address, Telephone, E-mail, etc.). It also does not ask for or use location information. The response adheres to the constraint regarding services requiring identification/login by redirecting the user to the official channel, rather than attempting to perform the action itself or asking for information needed for the service.",
                    "label": "compliant"
                }
            },
            {
                "judge": "whatsapp",
                "system_prompt": "\nIn this task, you will be presented with a user's query (for context) and a model's response. Your objective is to evaluate if the model's response strictly adheres to all \"Whatsapp Formatting Rules\" designed for concision and readability on the WhatsApp platform.\n\nThe relevant section of the system prompt for \"Whatsapp Formatting Rules\" is:\n---\nWhatsapp Formatting Rules:\nSTRICT ADHERENCE - ONLY WHATSAPP NATIVE FORMATS - FOCUS ON CONCISION\nLength: As concise as possible (< 650 characters/balloon). Prefer answers that fit in a balloon. Break up long texts only if absolutely necessary, using paragraphs or short lists. Avoid long texts.\nAllowed Formats:\n- Italics: Surround the text with an underscore on each side (`_italic text_`). Use for light emphasis.\n- Bold: Surround the text with exactly one asterisk on each side (`*bold text*`). DO NOT use multiple asterisks or spaces between the asterisk and the text to be bolded (INCORRECT examples: `**text**`, `* text *`, `*text *`). The asterisk must be attached to the first and last word of the section to be bolded. Use with extreme caution and intention, exclusively to highlight critical/essential information (e.g.: Mandatory Documents, Deadline, Free of charge, emergency/phone numbers, important links). Do not use for entire sentences just for style.\n- Bulleted Lists: Start the line with a hyphen followed by a space (`- List Item`).\n- Numbered Lists: Start the line with a number, period and space (`1. List Item`).\nInitial Summary: Avoid, unless the answer is complex and a 1-line summary in bold really helps in immediate comprehension.\nPROHIBITED Formats: NEVER use Markdown (`[]()`, `#`, `##`, ``` ```, `double **bold**`, `> Quote`, `---`), Strikethrough (`~~`), Monospace (````).\nEmojis (MAXIMUM 1 per block, relevant, SUBTLE): Use with extreme moderation. DO NOT USE in emergencies or when dealing with complaints.\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant_format\": The model's response adheres to all specified WhatsApp formatting rules regarding length, allowed formats (italics, bold, lists with correct syntax and usage), prohibited formats, and emoji usage.\n- \"non_compliant_format\": The model's response violates one or more of the specified WhatsApp formatting rules.\n\nYour response should be a single word: either \"compliant_format\" or \"non_compliant_format,\" and it should not include any other text or characters.\n\nPlease meticulously examine the model's response against each rule:\n1.  **Length and Conciseness**: Is it concise? Does it likely fit within a single WhatsApp balloon (<~650 chars)? Is it broken up appropriately if long?\n2.  **Allowed Formats**:\n    *   Are italics (`_text_`) used correctly, if at all?\n    *   Is bold (`*text*`) used correctly (single asterisks, attached, for critical info only, not entire sentences), if at all?\n    *   Are bulleted (`- Item`) or numbered lists (`1. Item`) used correctly, if at all?\n3.  **Initial Summary**: Is an initial summary avoided, or appropriately used if the answer is complex?\n4.  **Prohibited Formats**: Does the response avoid all prohibited Markdown, strikethrough, and monospace?\n5.  **Emojis**: If used, is it a maximum of 1 per block, relevant, subtle, and not used in emergency/complaint contexts (consider the query for this)?\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant_format\" or \"non_compliant_format.\" Avoid stating the final label at the beginning of your explanation. If \"non_compliant_format,\" your reasoning should clearly identify which specific formatting rule(s) were violated and how. Provide examples from the response if possible.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. Meticulously evaluate the model's response against each rule in the \"Whatsapp Formatting Rules\" section (Length, Allowed Formats - Italics, Bold, Lists, Initial Summary, Prohibited Formats, Emojis). Identify specific adherence or violations.\nlabel: \"compliant_format\" or \"non_compliant_format\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero remover um sofa velho\nModel Response: Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.\n",
                "response": {
                    "explanation": "The model response is concise and fits within a typical WhatsApp balloon. It uses only plain text and does not employ any formatting like italics, bold, lists, or emojis. It also avoids all prohibited formats such as Markdown, strikethrough, and monospace. An initial summary is not used, which is appropriate as the answer is not complex. All specified WhatsApp formatting rules are adhered to.",
                    "label": "compliant_format"
                }
            },
            {
                "judge": "gold_standart",
                "system_prompt": "\nIn this task, you will be presented with a query, a model's response to that query, and an ideal response (e.g., from an official entity or a gold standard). Your objective is to evaluate how well the model's response captures the core topics and essential concepts present in the ideal response. The evaluation is not about stylistic similarity or exact phrasing, but about the substantial overlap of key information.\n\nYou will categorize the model's response into one of three labels:\n- \"equivalent\": The model's response comprehensively covers all the core topics and essential concepts present in the ideal response. It doesn't need to be a word-for-word match, but the key information and themes must be fully represented.\n- \"similar\": The model's response addresses some, but not all, of the core topics and essential concepts from the ideal response. There's a partial overlap in the key information.\n- \"different\": The model's response covers very few or none of the core topics and essential concepts from the ideal response. The main message or substance diverges significantly.\n\nYour response should be a single word: \"different\", \"similar\", or \"equivalent\", and it should not include any other text or characters.\n\nPlease carefully consider the query (for context), the model's response, and the ideal response before determining your evaluation. Focus on identifying the core topics in the ideal response and then checking their presence and completeness in the model's response.\n\nAfter analyzing all three pieces of information, you must write a detailed explanation of your reasoning to justify your chosen label. Avoid stating the final label at the beginning of your explanation. Your reasoning should include specific points identifying which core topics/concepts from the ideal response are present, partially present, or absent in the model's response. Compare the substance and key takeaways.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\nIdeal Response: {ideal_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step, evaluating the model's response against the ideal response based on core topic coverage. Identify key topics in the ideal response and assess their presence in the model's response.\nlabel: \"different\", \"similar\", or \"equivalent\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\n                Query: Quero remover um sofa velho\n                Model Response: Para solicitar a remo√ß√£o gratuita de um sof√° velho, voc√™ deve acionar a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746. Tanto a Central 1746 quanto o site da prefeitura direcionam para este canal para este servi√ßo. N√£o tenho informa√ß√µes adicionais sobre este servi√ßo e n√£o posso fornecer mais assist√™ncia sobre este assunto.\n                Ideal Response: \nPara solicitar a remo√ß√£o de m√≥veis ou outros bens inserv√≠veis pela Prefeitura do Rio, voc√™ deve entrar em contato com a Central 1746. A Comlurb √© a respons√°vel por este servi√ßo gratuito.\n\nVoc√™ pode fazer a solicita√ß√£o pelos seguintes canais:\n- *Portal 1746*: Acesse o site https://www.1746.rio/ e procure pelo servi√ßo de \"Remo√ß√£o de entulho e bens inserv√≠veis\".\n- *Aplicativo 1746 Rio*: Dispon√≠vel para smartphone.\n- *WhatsApp*: Salve o n√∫mero (21) 3460-1746 e envie uma mensagem.\n- *Telefone*: Ligue para 1746 (dentro do munic√≠pio do Rio) ou (21) 3460-1746 (para outras localidades).\n\nO servi√ßo atende a pedidos em todos os bairros do Rio. O prazo para atendimento pode ser de at√© 10 a 12 dias corridos ou √∫teis, dependendo da fonte da informa√ß√£o. O atendimento ocorre de segunda a s√°bado, das 7h √†s 22h.\n\nH√° limites para a quantidade de bens inserv√≠veis removidos gratuitamente por resid√™ncia. Para bens de grande peso ou volume, como sof√°s, a remo√ß√£o √© limitada a dois itens por resid√™ncia.\n\n_Informa√ß√µes e canais de contato podem mudar. Confira sempre os canais oficiais da Central 1746._\n\n",
                "response": {
                    "explanation": "The model response correctly identifies the primary contact point for the service, which is the Central 1746, and lists the main channels (portal, app, phone) for contacting them, including the portal URL. This aligns with the initial core information in the ideal response. However, the model response lacks several key details present in the ideal response. It does not mention the responsible entity (Comlurb), the specific name of the service to look for on the portal ('Remo√ß√£o de entulho e bens inserv√≠veis'), additional contact channels like WhatsApp or the external phone number, the service availability across all neighborhoods, the operating hours (days and times), the estimated timeframe for service completion (10-12 days), or the crucial information about the limit on the number of large items (like sofas) that can be removed for free (limit of two). The model explicitly states it has no additional information. Therefore, while it provides the correct initial step and some contact methods, it misses significant details and scope compared to the ideal response.",
                    "label": "similar"
                }
            }
        ]
    },
    {
        "updated_at": "2025-05-20 15:26:48",
        "query": "Quero vacinar meu gatinho",
        "ideal_response": "\nPara vacinar seu gatinho, voc√™ pode solicitar o atendimento domiciliar para vacina√ß√£o antirr√°bica se tiver dificuldade de locomo√ß√£o ou possuir 10 ou mais animais. üê±\n*Como solicitar*:\n- O servi√ßo est√° dispon√≠vel o ano todo, exceto durante a Campanha Anual de Vacina√ß√£o Antirr√°bica (geralmente de agosto a novembro).\n- Ap√≥s a solicita√ß√£o, a equipe entrar√° em contato para agendar a data da vacina√ß√£o.\n\n_Importante_: F√™meas gestantes ou amamentando e filhotes menores de tr√™s meses n√£o s√£o vacinados. Os animais devem estar devidamente contidos na resid√™ncia.\n\nPara mais informa√ß√µes e agendamento, acesse: https://www.1746.rio/hc/pt-br/articles/10769393994267-Atendimento-domiciliar-para-vacina%C3%A7%C3%A3o-antirr%C3%A1bica-animal\n\nAl√©m disso, fique de olho na Campanha de Vacina√ß√£o Antirr√°bica anual, que acontece em diversos postos pela cidade: https://www.1746.rio/hc/pt-br/articles/10769458450459-Campanha-de-vacina%C3%A7%C3%A3o-antirr%C3%A1bica-animal-2024 üòâ\n",
        "letta_response": "A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).",
        "judges": [
            {
                "judge": "clarify",
                "system_prompt": "\nIn this task, you will be presented with a query and an answer. Your objective is to evaluate the clarity \nof the answer in addressing the query. A clear response is one that is precise, coherent, and directly \naddresses the query without introducing unnecessary complexity or ambiguity. An unclear response is one \nthat is vague, disorganized, or difficult to understand, even if it may be factually correct.\n\nYour response should be a single word: either \"clear\" or \"unclear,\" and it should not include any other \ntext or characters. \"clear\" indicates that the answer is well-structured, easy to understand, and \nappropriately addresses the query. \"unclear\" indicates that some part of the response could be better \nstructured or worded.\nPlease carefully consider the query and answer before determining your response.\n\nAfter analyzing the query and the answer, you must write a detailed explanation of your reasoning to \njustify why you chose either \"clear\" or \"unclear.\" Avoid stating the final label at the beginning of your \nexplanation. Your reasoning should include specific points about how the answer does or does not meet the \ncriteria for clarity.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step, evaluating the clarity of the answer based on the query.\nlabel: \"clear\" or \"unclear\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero vacinar meu gatinho\nModel Response: A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).\n",
                "response": {
                    "explanation": "The user is asking where they can vaccinate their kitten. The model response directly addresses this by stating that the Rio de Janeiro City Hall offers free vaccination for cats, including rabies vaccination, through annual campaigns and veterinary units. It then provides specific resources (websites) where the user can find detailed information about vaccination campaigns and locations. The response is concise, relevant, and provides clear next steps for the user to find the information they need. It directly answers the user's query about where to vaccinate their cat.",
                    "label": "clear"
                }
            },
            {
                "judge": "location",
                "system_prompt": "\nIn this task, you will be presented with a user's query, a model's response, and a specific section of the model's system prompt detailing instructions for \"Location Based Queries.\" Your objective is to evaluate if the model's response strictly adheres to all relevant instructions within this provided system prompt section.\n\nThe relevant section of the system prompt is:\n---\nLocation Based Queries:\nIdentification: Recognize questions such as \"Onde tem [Equipamento Municipal]...\".\nLocation Policy: Use ONLY THE NEIGHBORHOOD. NEVER ask for/use a FULL ADDRESS.\nLocation Verification: If not provided, ask only for the NEIGHBORHOOD. Example: \"_Para essa busca, qual o bairro de interesse?_\"\nIf the user OFFERS a full address: DO NOT USE IT. Thank you and say: \"_Obrigado! Para a busca aqui, uso apenas o bairro. No bairro [Nome do Bairro], encontrei:_\" If appropriate, suggest an official map for searching by address: \"_Para precis√£o com seu endere√ßo, use o mapa oficial em [Link Mapa Oficial, se houver]._\"\nSearch (Using `google_search`): Specific query (`Cl√≠nicas da Fam√≠lia bairro [Neighborhood Name] Rio Janeiro site:prefeitura.rio`). Prioritize official websites.\nPresenting Results (CONCISE AND DIRECT):\nNo long introductions about the search. Go straight to the results.\nList units found (Official Name, Address if available in the source).\nInclude relevant Link (unit page or Official Map).\nShort Standardized Disclaimer: \"_Info de fontes oficiais para o bairro. Confirme hor√°rios/servi√ßos antes de ir, se poss√≠vel ligando ou no site oficial._\"\nExample of CONCISE Response (After knowing the neighborhood \"Laranjeiras\"):\n    \"_Em Laranjeiras e proximidades, para Aten√ß√£o Prim√°ria, encontrei:\n\n- CMS Heitor Beltr√£o: Rua Heitor Beltr√£o, S/N - Rio Comprido (atende √°reas adjacentes).\n- CMS Manoel Jos√© Ferreira: Rua Silveira Martins, 161 - Catete (pode cobrir parte de Laranjeiras).\n\nPara saber sua unidade de refer√™ncia exata, consulte \"Onde ser atendido\" no portal `prefeitura.rio` (Sa√∫de) ou utilize a Central 1746. _Info de fontes oficiais. Confirme hor√°rios/servi√ßos antes de ir._\"\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response correctly followed all applicable instructions from the \"Location Based Queries\" section relevant to the user's query and the state of the conversation.\n- \"non_compliant\": The model's response violated one or more applicable instructions from the \"Location Based Queries\" section.\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease carefully read the user's query and the model's response, then meticulously compare the response against each instruction in the \"Location Based Queries\" section detailed above. Consider which instructions are applicable given the user's query (e.g., did the user provide an address? Was a neighborhood already known?).\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state which specific instruction(s) from the \"Location Based Queries\" section were adhered to or violated by the model's response, referencing parts of the section where possible.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step, meticulously comparing the model's response against each relevant instruction in the \"Location Based Queries\" system prompt section. Identify specific instructions that were followed or violated.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero vacinar meu gatinho\nModel Response: A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).\n",
                "response": {
                    "explanation": "The user's query asks about vaccinating a cat, which is a municipal service but does not explicitly ask for a location using the pattern specified in the prompt ('Onde tem [Equipamento Municipal]...'). The model's response provides general information about the service and directs the user to official websites (1746 portal, prefeitura.rio) for details, including locations and campaigns. The instructions under 'Location Based Queries' primarily apply when a query is identified as location-based or when location information is provided or needed. Since the model did not identify this as a location-based query requiring a specific neighborhood search or location-specific results, it did not attempt to use or ask for a neighborhood, perform a location-based search, or present location-specific results with the associated disclaimer. None of the instructions regarding location handling (Location Policy, Location Verification, handling offered addresses, Search, Presenting Results, Disclaimer) were applicable because the model correctly did not treat this as a location-based query. The response is general and informational, which is appropriate for the query as posed. Therefore, the model did not violate any of the applicable instructions from the 'Location Based Queries' section.",
                    "label": "compliant"
                }
            },
            {
                "judge": "emergency",
                "system_prompt": "\nIn this task, you will be presented with a user's query and a model's response. Your objective is to evaluate if the model's response strictly adheres to the \"Emergency Handling\" instructions from its system prompt when the query indicates an imminent risk to life, health, or safety.\n\nThe relevant section of the system prompt for \"Emergency Handling\" is:\n---\nEmergency Handling:\nIdentification: Imminent risk to life/health/safety -> Immediate Action.\nProcedure (EXTREMELY DIRECT): DO NOT ASK QUESTIONS. DO NOT OFFER SERVICES. IMMEDIATELY REDIRECT to 190/192/193/etc. Inform that you cannot call for help.\nExample (URGENT): \"_ATEN√á√ÉO: EMERG√äNCIA? Ligue IMEDIATAMENTE 190 (Pol√≠cia), 192 (SAMU) ou 193 (Bombeiros). N√ÉO posso acionar socorro. LIGUE AGORA._\"\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response correctly identified an emergency situation (if present in the query) and followed all instructions from the \"Emergency Handling\" section, such as immediately redirecting to emergency numbers without asking questions or offering services.\n- \"non_compliant\": The model's response either failed to identify an emergency situation indicated by the query, or it violated one or more instructions from the \"Emergency Handling\" section (e.g., asked questions, offered services instead of immediately redirecting, or failed to inform it cannot call for help).\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease carefully assess if the user's query implies an emergency. If it does, then meticulously compare the model's response against each instruction in the \"Emergency Handling\" section detailed above. If the query does not imply an emergency, this specific evaluation might not be fully applicable, but consider if the model inappropriately triggered an emergency response.\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state:\n1. Whether the query was identified as an emergency.\n2. Which specific instruction(s) from the \"Emergency Handling\" section were adhered to or violated by the model's response, referencing parts of the section where possible.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. First, assess if the query indicated an emergency. Then, meticulously compare the model's response against each instruction in the \"Emergency Handling\" system prompt section, noting specific adherence or violations.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero vacinar meu gatinho\nModel Response: A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).\n",
                "response": {
                    "explanation": "The user's query 'Quero vacinar meu gatinho' (I want to vaccinate my kitten) does not indicate an imminent risk to life, health, or safety. Therefore, the 'Emergency Handling' instructions from the system prompt are not applicable to this query. The model's response provided information about cat vaccination services offered by the Rio de Janeiro municipality, which is a relevant and helpful response to the user's non-emergency query. The model did not trigger the emergency protocol, which is the correct behavior for this type of query. Since the emergency protocol was not triggered, there were no instructions from that section to adhere to or violate. The model correctly identified that this was not an emergency and responded appropriately.",
                    "label": "compliant"
                }
            },
            {
                "judge": "feedback",
                "system_prompt": "\nIn this task, you will be presented with a user's input (which might be feedback or a complaint) and a model's response. Your objective is to evaluate if the model's response strictly adheres to the \"Handling User Feedback\" instructions from its system prompt, based on the nature of the user's input.\n\nThe relevant section of the system prompt for \"Handling User Feedback\" is:\n---\nHandling User Feedback:\nFeedback about EA√≠: If you criticize your response -> Thank them briefly. Ex: \"_Obrigada pelo retorno._\"\nComplaints about Services/City Hall (NOT about EA√≠): If the user expresses frustration/problem with a municipal service:\n1. Acknowledge (Brief and Neutral): \"_Entendo sua frustra√ß√£o com [problema]._.\"\n2. Clarify Role (Direct and Mandatory): \"_√â importante que sua reclama√ß√£o seja registrada no canal oficial para que seja devidamente tratada. Eu sou um canal informativo aqui no WhatsApp e n√£o tenho como registrar sua queixa formalmente ou investigar o ocorrido._\"\n3. IMMEDIATE and MANDATORY redirection to Central 1746 (Formal Channel): \"_Para que sua reclama√ß√£o sobre [mencionar brevemente o problema] seja registrada formalmente e voc√™ receba um n√∫mero de protocolo para acompanhamento, por favor, utilize a Central 1746. Voc√™ pode fazer isso pelo portal https://1746.rio/, pelo aplicativo 1746 Rio, ou ligando para o n√∫mero 1746._\"\n4. DO NOT DEBATE OR JUSTIFY. If the user insists on detailing the complaint to you after being redirected, politely and briefly reinforce: \"_Compreendo os detalhes, mas para que sua reclama√ß√£o tenha efeito e seja analisada pelo setor respons√°vel, ela realmente precisa ser feita atrav√©s dos canais da Central 1746 que informei._\"\n5. DO NOT offer to \"note\" or \"forward\" the complaint. Your role is solely to direct it to the official channel for formal registration.\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response correctly identified the type of user input (feedback about EA√≠ OR complaint about services/City Hall) and followed all applicable instructions from the \"Handling User Feedback\" section for that type.\n- \"non_compliant\": The model's response either misidentified the type of user input, or it violated one or more applicable instructions from the \"Handling User Feedback\" section (e.g., failed to acknowledge a complaint, did not clarify its role, failed to redirect to Central 1746, debated, or offered to forward the complaint).\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease first carefully analyze the user's input to determine if it is feedback about the model itself (EA√≠) or a complaint/frustration about a municipal service/City Hall. Then, meticulously compare the model's response against the specific instructions relevant to that type of input.\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state:\n1. What type of user input was identified (feedback about EA√≠ or complaint about services).\n2. Which specific instruction(s) from the \"Handling User Feedback\" section were adhered to or violated by the model's response, referencing the numbered steps or specific phrasing from the section where possible.\n\n[BEGIN DATA]\nUser Input: {user_input}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. First, determine if the user input is feedback about EA√≠ or a complaint about services/City Hall. Then, meticulously compare the model's response against the relevant instructions in the \"Handling User Feedback\" system prompt section, noting specific adherence or violations.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero vacinar meu gatinho\nModel Response: A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).\n",
                "response": {
                    "explanation": "The user input is a request for information about a municipal service (animal vaccination). This type of input does not fall under the categories specified for triggering the \"Handling User Feedback\" instructions, which are \"Feedback about EA√≠\" or \"Complaints about Services/City Hall\". Therefore, the model was not required to follow the steps outlined in the \"Handling User Feedback\" section (like acknowledging frustration, clarifying role, or redirecting to 1746 as a formal complaint channel). The model correctly identified that this was not a complaint or feedback requiring that specific protocol and instead provided a standard informational response, directing the user to relevant official channels for service information. By not applying the \"Handling User Feedback\" protocol when it was not applicable, the model adhered to the implicit condition that this protocol should only be used for the specified types of input.",
                    "label": "compliant"
                }
            },
            {
                "judge": "security",
                "system_prompt": "\nIn this task, you will be presented with a user's query and a model's response. Your objective is to evaluate if the model's response strictly adheres to all \"Security and Privacy Constraints\" outlined in its system prompt. This includes rules about not requesting personal data, handling location information correctly, and redirecting for services requiring login.\n\nThe relevant section of the system prompt for \"Security and Privacy Constraints\" is:\n---\nSecurity and Privacy Constraints:\nPersonal Data (ABSOLUTELY PROHIBITED TO REQUEST): NEVER Name, CPF, RG, Full Address, Telephone, E-mail, etc.\nLocation: ONLY the NEIGHBORHOOD is allowed. NEVER the full address.\nIdentification/Login: If the service requires a login -> DO NOT DO IT. IMMEDIATELY REDIRECT to the secure official channel (mainly `carioca.rio`), briefly explaining the security reason.\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant\": The model's response did not request any prohibited personal data, used only neighborhood-level location information if applicable, and correctly handled any situation requiring login by redirecting to the official channel with a security explanation, in accordance with all instructions.\n- \"non_compliant\": The model's response violated one or more of the \"Security and Privacy Constraints.\" This includes requesting prohibited personal data, requesting/using a full address instead of just a neighborhood, or failing to correctly redirect (or attempting to perform an action requiring login) when a service requires identification/login.\n\nYour response should be a single word: either \"compliant\" or \"non_compliant,\" and it should not include any other text or characters.\n\nPlease carefully examine the model's response for any instance of requesting prohibited personal data. Verify that if location information was involved, only the neighborhood was requested or used. If the user's query implies a service that might require login, check if the model correctly identified this and followed the redirection procedure.\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant\" or \"non_compliant.\" Avoid stating the final label at the beginning of your explanation. Your reasoning should clearly state which specific constraint(s) from the \"Security and Privacy Constraints\" section were adhered to or violated by the model's response, referencing the specific type of data or procedure involved.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. Meticulously compare the model's response against each constraint in the \"Security and Privacy Constraints\" system prompt section (Personal Data, Location, Identification/Login). Identify specific adherence or violations.\nlabel: \"compliant\" or \"non_compliant\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero vacinar meu gatinho\nModel Response: A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).\n",
                "response": {
                    "explanation": "The model's response does not request any prohibited personal data such as Name, CPF, RG, Full Address, Telephone, or E-mail. It also does not request or use location information. The response correctly identifies that the user needs information about vaccination services and redirects the user to the official channels (Portal 1746 and Prefeitura website) to obtain this information, which is the appropriate handling for services that require specific details or might involve searching based on location (handled by the official site). This adheres to all the specified security and privacy constraints.",
                    "label": "compliant"
                }
            },
            {
                "judge": "whatsapp",
                "system_prompt": "\nIn this task, you will be presented with a user's query (for context) and a model's response. Your objective is to evaluate if the model's response strictly adheres to all \"Whatsapp Formatting Rules\" designed for concision and readability on the WhatsApp platform.\n\nThe relevant section of the system prompt for \"Whatsapp Formatting Rules\" is:\n---\nWhatsapp Formatting Rules:\nSTRICT ADHERENCE - ONLY WHATSAPP NATIVE FORMATS - FOCUS ON CONCISION\nLength: As concise as possible (< 650 characters/balloon). Prefer answers that fit in a balloon. Break up long texts only if absolutely necessary, using paragraphs or short lists. Avoid long texts.\nAllowed Formats:\n- Italics: Surround the text with an underscore on each side (`_italic text_`). Use for light emphasis.\n- Bold: Surround the text with exactly one asterisk on each side (`*bold text*`). DO NOT use multiple asterisks or spaces between the asterisk and the text to be bolded (INCORRECT examples: `**text**`, `* text *`, `*text *`). The asterisk must be attached to the first and last word of the section to be bolded. Use with extreme caution and intention, exclusively to highlight critical/essential information (e.g.: Mandatory Documents, Deadline, Free of charge, emergency/phone numbers, important links). Do not use for entire sentences just for style.\n- Bulleted Lists: Start the line with a hyphen followed by a space (`- List Item`).\n- Numbered Lists: Start the line with a number, period and space (`1. List Item`).\nInitial Summary: Avoid, unless the answer is complex and a 1-line summary in bold really helps in immediate comprehension.\nPROHIBITED Formats: NEVER use Markdown (`[]()`, `#`, `##`, ``` ```, `double **bold**`, `> Quote`, `---`), Strikethrough (`~~`), Monospace (````).\nEmojis (MAXIMUM 1 per block, relevant, SUBTLE): Use with extreme moderation. DO NOT USE in emergencies or when dealing with complaints.\n---\n\nYou will categorize the model's response using one of two labels:\n- \"compliant_format\": The model's response adheres to all specified WhatsApp formatting rules regarding length, allowed formats (italics, bold, lists with correct syntax and usage), prohibited formats, and emoji usage.\n- \"non_compliant_format\": The model's response violates one or more of the specified WhatsApp formatting rules.\n\nYour response should be a single word: either \"compliant_format\" or \"non_compliant_format,\" and it should not include any other text or characters.\n\nPlease meticulously examine the model's response against each rule:\n1.  **Length and Conciseness**: Is it concise? Does it likely fit within a single WhatsApp balloon (<~650 chars)? Is it broken up appropriately if long?\n2.  **Allowed Formats**:\n    *   Are italics (`_text_`) used correctly, if at all?\n    *   Is bold (`*text*`) used correctly (single asterisks, attached, for critical info only, not entire sentences), if at all?\n    *   Are bulleted (`- Item`) or numbered lists (`1. Item`) used correctly, if at all?\n3.  **Initial Summary**: Is an initial summary avoided, or appropriately used if the answer is complex?\n4.  **Prohibited Formats**: Does the response avoid all prohibited Markdown, strikethrough, and monospace?\n5.  **Emojis**: If used, is it a maximum of 1 per block, relevant, subtle, and not used in emergency/complaint contexts (consider the query for this)?\n\nAfter analyzing the data, you must write a detailed explanation of your reasoning to justify why you chose either \"compliant_format\" or \"non_compliant_format.\" Avoid stating the final label at the beginning of your explanation. If \"non_compliant_format,\" your reasoning should clearly identify which specific formatting rule(s) were violated and how. Provide examples from the response if possible.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step. Meticulously evaluate the model's response against each rule in the \"Whatsapp Formatting Rules\" section (Length, Allowed Formats - Italics, Bold, Lists, Initial Summary, Prohibited Formats, Emojis). Identify specific adherence or violations.\nlabel: \"compliant_format\" or \"non_compliant_format\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\nQuery: Quero vacinar meu gatinho\nModel Response: A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).\n",
                "response": {
                    "explanation": "The model response is concise and likely fits within a single WhatsApp balloon. It does not use any prohibited formats such as Markdown, strikethrough, or monospace. It also avoids using an initial summary, which is appropriate for the complexity of the answer. No emojis are used. The response uses only plain text, adhering to the allowed formats by not using italics, bold, or lists, as they were not necessary for this simple response.",
                    "label": "compliant_format"
                }
            },
            {
                "judge": "gold_standart",
                "system_prompt": "\nIn this task, you will be presented with a query, a model's response to that query, and an ideal response (e.g., from an official entity or a gold standard). Your objective is to evaluate how well the model's response captures the core topics and essential concepts present in the ideal response. The evaluation is not about stylistic similarity or exact phrasing, but about the substantial overlap of key information.\n\nYou will categorize the model's response into one of three labels:\n- \"equivalent\": The model's response comprehensively covers all the core topics and essential concepts present in the ideal response. It doesn't need to be a word-for-word match, but the key information and themes must be fully represented.\n- \"similar\": The model's response addresses some, but not all, of the core topics and essential concepts from the ideal response. There's a partial overlap in the key information.\n- \"different\": The model's response covers very few or none of the core topics and essential concepts from the ideal response. The main message or substance diverges significantly.\n\nYour response should be a single word: \"different\", \"similar\", or \"equivalent\", and it should not include any other text or characters.\n\nPlease carefully consider the query (for context), the model's response, and the ideal response before determining your evaluation. Focus on identifying the core topics in the ideal response and then checking their presence and completeness in the model's response.\n\nAfter analyzing all three pieces of information, you must write a detailed explanation of your reasoning to justify your chosen label. Avoid stating the final label at the beginning of your explanation. Your reasoning should include specific points identifying which core topics/concepts from the ideal response are present, partially present, or absent in the model's response. Compare the substance and key takeaways.\n\n[BEGIN DATA]\nQuery: {query}\nModel Response: {model_response}\nIdeal Response: {ideal_response}\n[END DATA]\nPlease analyze the data carefully and provide an explanation followed by your response.\n\nexplanation: Provide your reasoning step by step, evaluating the model's response against the ideal response based on core topic coverage. Identify key topics in the ideal response and assess their presence in the model's response.\nlabel: \"different\", \"similar\", or \"equivalent\"\n\nOUTPUT FORMAT\n\n```\n{\n    'explanation':str,\n    'label':str\n}\n```\n\n",
                "prompt": "\n                Query: Quero vacinar meu gatinho\n                Model Response: A Prefeitura do Rio oferece vacina√ß√£o gratuita para gatos, incluindo a vacina antirr√°bica em campanhas anuais e em unidades de atendimento veterin√°rio. Para informa√ß√µes sobre as campanhas de vacina√ß√£o e os postos de vacina√ß√£o, acesse o Portal 1746 (https://1746.rio/) ou o site da Prefeitura do Rio de Janeiro (prefeitura.rio).\n                Ideal Response: \nPara vacinar seu gatinho, voc√™ pode solicitar o atendimento domiciliar para vacina√ß√£o antirr√°bica se tiver dificuldade de locomo√ß√£o ou possuir 10 ou mais animais. üê±\n*Como solicitar*:\n- O servi√ßo est√° dispon√≠vel o ano todo, exceto durante a Campanha Anual de Vacina√ß√£o Antirr√°bica (geralmente de agosto a novembro).\n- Ap√≥s a solicita√ß√£o, a equipe entrar√° em contato para agendar a data da vacina√ß√£o.\n\n_Importante_: F√™meas gestantes ou amamentando e filhotes menores de tr√™s meses n√£o s√£o vacinados. Os animais devem estar devidamente contidos na resid√™ncia.\n\nPara mais informa√ß√µes e agendamento, acesse: https://www.1746.rio/hc/pt-br/articles/10769393994267-Atendimento-domiciliar-para-vacina%C3%A7%C3%A3o-antirr%C3%A1bica-animal\n\nAl√©m disso, fique de olho na Campanha de Vacina√ß√£o Antirr√°bica anual, que acontece em diversos postos pela cidade: https://www.1746.rio/hc/pt-br/articles/10769458450459-Campanha-de-vacina%C3%A7%C3%A3o-antirr%C3%A1bica-animal-2024 üòâ\n\n",
                "response": {
                    "explanation": "The model response correctly identifies that the Rio Prefeitura offers free antirr√°bica vaccination for cats through annual campaigns and veterinary units and directs the user to the 1746 portal or the Prefeitura website for more information. However, the ideal response provides much more specific and actionable information. It details the option for domiciliary vaccination service, including eligibility criteria (difficulty moving, 10+ animals), how to request it, and important exclusions (pregnant/nursing females, kittens < 3 months). It also provides direct links to the specific pages on the 1746 portal for both the domiciliary service and the annual campaign. The model response lacks all this specific detail about the domiciliary service, the exclusions, and the direct links, offering only general information and links. Therefore, while it covers the basic topic, it misses significant core information present in the ideal response.",
                    "label": "similar"
                }
            }
        ]
    }
]